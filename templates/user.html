{% extends "base.html" %}
{% block title %}{{user_data.player_name}}{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block body %}

        <div id="user-card">
            <h1 id="usertitle">{{user_data.player_name}} ({{user_id}})</h1>
            <ul class="alignleft" id="userleft">
                <li>Rank: {{user_data.rank|numberFormat}}</li>
                <li>Time: {{user_data.time|numberFormat(4)}}s</li>
                <li>Gems: {{user_data.gems|numberFormat}}</li>
                <li>Kills: {{user_data.kills|numberFormat}}</li>
                <li>Accuracy: {{user_data.accuracy}}%</li>
            </ul>
            <ul class="alignright" id="userright">
                <li>Total Deaths: {{user_data.deaths_total|numberFormat}}</li>
                <li>Total Time: {{user_data.time_total|numberFormat(4)}}s</li>
                <li>Total Gems: {{user_data.gems_total|numberFormat}}</li>
                <li>Total Kills: {{user_data.kills_total|numberFormat}}</li>
                <li>Total Accuracy: {{user_data.accuracy_total}}%</li>
            </ul>
            <div style="clear: both;"></div>
        </div>
    {% for game in games.items %}
        </div>
        <a href="{{ url_for('game_log', game_number=game.id) }}">
        <div id="stats-card">
            <h2 class="alignleft">Game {{game.id}}</h1>
            <!-- <h2 class="alignright">{{player_name}} ({{player_id}})</h1> -->
            <div style="clear: both;"></div>
            <ul class="alignleft" id="statsleft">
                <li>Time: {{game.game_time|round(4)}}</li>
                <li>Gems: {{game.gems}}</li>
                <li>Homing Daggers: {{game.homing_daggers}}</li>
                <li>Enemies Alive: {{game.enemies_alive}}</li>
                <li>Enemies Killed: {{game.enemies_killed}}</li>
            </ul>
            <ul class="alignright" id="statsright">
                {% if game.death_type == -1 %}
                    <li>Death: RESTART</li>
                {% else %}
                    <li>Death: {{death_types[game.death_type]}}</li>
                {% endif %}
                {% if game.daggers_fired != 0 %}
                    <li>Accuracy: {{((game.daggers_hit/game.daggers_fired)*100)|round(2)}}%</li>
                {% else %}
                    <li>Accuracy: 0.0%</li>
                {% endif %}
                <li>Daggers Hit: {{game.daggers_hit}}</li>
                <li>Daggers Fired: {{game.daggers_fired}}</li>
                <li>{{game.time_stamp|time_ago}}</li>
            </ul>
            <div style="clear: both;"></div>
            <div id="statsfooter">
            {% if game.replay_player_id > 0 %}
                <span id="submitter" class="alignright">Replay recorded by {{game.player_id|get_username}} ({{game.player_id}})</span>
            {% endif %}
            <div style="clear: both;"></div>
            </div>
        </div>
        </a>
    {% endfor %}
        <div id="pagination">
        {% if games.has_next %}
            <a href="{{ url_for('user_page', user_id=user_id, page_num=games.next_num) }}">Prev</a>    
        {% endif %}
        {% if games.has_prev %}
            <a href="{{ url_for('user_page', user_id=user_id, page_num=games.prev_num) }}">Next</a>    
        {% endif %}
        </div>
{% endblock %}
